{% extends 'base.html' %}
{% block content %}
<h2 class="h5 fw-bold mb-4 d-flex align-items-center gap-2">
    <span class="material-icons" style="color:#1a1a1a">{{ 'edit' if record else 'event_available' }}</span>
    {{ 'Edit Attendance' if record else 'New Attendance Record' }}
</h2>
<div class="card border-0 shadow-sm" style="max-width:560px">
    <div class="card-body p-4">
        <form method="POST">
            <div class="row g-3 mb-3">
                <div class="col-md-6">
                    <label class="form-label fw-medium" for="date_col">Date</label>
                    <input id="date_col" type="date" name="date_col" required class="form-control"
                        value="{{ record.date_col if record else '' }}">
                </div>
                <div class="col-md-6">
                    <label class="form-label fw-medium">Status</label>
                    <select name="status" required class="form-select">
                        {% for s in ['Present','Absent','Leave'] %}
                        <option value="{{ s }}" {% if record and record.status==s %}selected{% endif %}>{{ s }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="mb-4">
                <label class="form-label fw-medium">Employee</label>
                <select name="employee_id" required class="form-select">
                    {% for e in employees %}
                    <option value="{{ e.employee_id }}" {% if record and record.employee_id==e.employee_id %}selected{%
                        endif %}>{{ e.fullname }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-sm px-3" style="background:#1a1a1a;color:#fff">Save</button>
                <a href="{{ url_for('attendance.list_attendance') }}"
                    class="btn btn-sm btn-outline-secondary px-3">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}